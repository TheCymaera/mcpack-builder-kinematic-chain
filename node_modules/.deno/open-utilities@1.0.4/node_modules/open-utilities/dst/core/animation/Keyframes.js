export class Keyframes {
    #frames;
    #totalLength;
    #currentTime = 0;
    constructor(frames) {
        if (frames.length === 0) {
            throw new Error('Keyframes must have at least one frame');
        }
        this.#frames = frames;
        this.#totalLength = frames.reduce((total, frame) => total + frame.duration, 0);
    }
    step(deltaTime) {
        this.#currentTime += deltaTime;
    }
    stepAndLoop(deltaTime) {
        this.#currentTime += deltaTime;
        this.#currentTime = this.#currentTime % this.#totalLength;
    }
    getCurrentFrame() {
        let time = 0;
        for (const frame of this.#frames) {
            time += frame.duration;
            if (time >= this.#currentTime)
                return frame.value;
        }
        return this.#frames.at(-1).value;
    }
}
